<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>week9 Notes</h1>
   <p> Please open the surce fiel and console to see more notes </p>
   <p> Enable the notifications</p>
    <h2>Video test</h2>
    <video id="coldplay" src="../week9/coldplay.mp4" controls>
        Your browser does not support the video element.
    </video>
    <br><br>
    <button id="chorus">chorus</button><button id="speed">speed up</button>
    <br><br>
    <div id='hero' data-powers='flight superSpeed'>
        Superman
    </div>
    <div id="example_data" data-sound='tiiiiinnnnn!!!'> Data exmaple andres</div>

    <h1>Window</h1>
    <h2>Dialog Alert </h2>
    <pre>
    Sintax : window.confirm(‘Do you wish to continue?’) 
    The window object can work to ask user confirmation of an actions.
    Eg: Delete content, close the tab without save, make a payment etc. 
    </pre>
    <h2>Window location</h2>
    <pre>
    Sintax window.location.herf = “ https://eample.com” 
    Window location help us to know in what page or URL we are 
    Go to another page
    we also can go to another page replacing the value of this method. 
    Eg: window.location.herf= “https://newurl.com” 
    This redirects to the new url we have defined
    </pre>
    <h2>Window Path </h2>
    <pre>
    We can get the path or URL of the page where we are using  window.location.pathname
    Eg: window.location.path
    >> “/page1/page1.1/mores-pages……
    </pre>
    <h2>Window location methods</h2>
    <pre>
    replace() :method is almost the same as the assign() method, except the current page will not be stored in the session history, so the user will be unable to navigate back to it using the back button.
    reload(): method can be used to force a reload of the current page. If it’s given a parameter of true , it will force the browser to reload the page from the server, instead of using a cached page.
    assing(): method can be used to load another resource from a URL provided as a parameter, for example:
    tostring(): method returns a string containing the whole URL:
    </pre>
    <h2>Window History</h2>
    <pre>
    window.hisotry.length: returns the number of pages visited by the user previous the current pages 
    window.history.go: go to another pages visited by the user 
    Eg:  window,history.go (-3) “ go back 3 pages back “ 
    </pre>
    <h2>Controlling Windows </h2>
    <pre>
    window.open() open a new window
    Eg: window.open('https://sitepoint.com')
    </pre>
    <h2>Create a new cookie: </h2>
    <p>document.cookie = 'name=Superman'; </p>
    <h2>Reassign the value: </h2>
    <pre>
    To reassign the value of a cookie, just change the value and not the property  
    document.cookie = 'name=Batman'; 
    </pre>
    <script>

        // .................................DATA ATRIBUTE....................................//

        const superman = document.getElementById('hero');
        const powers = superman.dataset.powers;
        const example_data = document.getElementById('example_data');

        /* use dataset to callt he data tribute from the element*/
        const sound = example_data.dataset.sound

        /* Diplay the data of each elemnt in the console*/
        console.log(powers, sound)


        //................................ LOCAL STORAGE....................................//

        /* save items, use setItem() */

        let name = "andres"
        localStorage.setItem("key", name)

        /* get items from local storage use gettItem() */

        let getTheName = localStorage.getItem("key")
        document.write( "hey! I am fetching this from local storage: " + getTheName + "<br>")

        /* clean the local storage*/ 
        localStorage.clear();

        /* store an object */

        const andres = {
            height: 1.73, 
            age: 23,
            weight: 60,
            name: "andres",  
        } 

        localStorage.setItem("object", JSON.stringify(andres))

        /* get the object from local storage */

        const object = JSON.parse(localStorage.getItem("object"))
        document.write( "hey! I am fetching this object from local storage: " + object.age)

        //............................... GEOLOCATION........................................//


        navigator.geolocation.getCurrentPosition(youAreHere); 

        function youAreHere(position) {
            
         console.log(`Latitude: ${position.coords.latitude}, Longitude: ${position.coords.longitude}`); 

        }
        //............................... NOTIFICATION ........................................//

        /* Request permition for notification */
            if(window.Notification) {
        Notification.requestPermission()
        .then((permission) => {
            /* If the notification is accepted do the next:  */
            if(Notification.permission === 'granted') {
            new Notification('This is a test notification');
            }
        });
    }

    /* Notification constructor */
    const notification = new Notification('JavaScript: Novice to Ninja',{
    body: 'The new book from SitePoint',
});

 const btn_chorus = document.getElementById('chorus');
 const btn_speed = document.getElementById('speed');
 const video = document.getElementById('coldplay');
 
 btn_chorus.addEventListener('click', () => { 
   video.currentTime = 110; 
    
});

btn_speed.addEventListener('click', () => { 
    
    video.playbackRate = 2;
    
});

    </script>
</body>
</html>